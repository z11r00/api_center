{
    "props": {
        "pageProps": {
            "query": {
                "id": "8804d95c1b9745148038ce7e25695421"
            },
            "ieBrowser": false,
            "needRefresh": false,
            "writingDetail": {
                "id": 83290,
                "outId": "8804d95c1b9745148038ce7e25695421",
                "articleOutId": "8804d95c1b9745148038ce7e25695421",
                "html": "<h1 data-tool=\"mdnice编辑器\" style=\"border-bottom-color: rgb(14, 138, 235); margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: transparent; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; border-top-style: none; border-bottom-style: solid; border-left-style: none; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; box-shadow: none; display: block; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow-x: unset; overflow-y: unset; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; position: relative; text-align: left; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 22px; color: rgb(14, 138, 235); line-height: 1.5em; letter-spacing: 0em; text-align: center; font-weight: bold; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: transparent; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; box-shadow: none; display: block; flex-direction: unset; float: unset; height: auto; justify-content: unset; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; overflow-x: unset; overflow-y: unset; position: relative; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\">VPNv4和VPNv6 over SRv6 TE Policy组网案例</span><span class=\"suffix\" style=\"display: none;\"></span></h1> \n<br data-tool=\"mdnice编辑器\"> \n<h2 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; box-shadow: none; display: block; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow-x: unset; overflow-y: unset; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; position: relative; text-align: left; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 18px; color: rgb(14, 138, 235); line-height: 1.8em; letter-spacing: 0em; padding-top: 0px; padding-bottom: 0px; padding-left: 10px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: solid; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 5px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(14, 136, 235); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; box-shadow: none; display: block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; overflow-x: unset; overflow-y: unset; position: relative; text-align: left; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\">组网介绍</span><span class=\"suffix\" style=\"display: none;\"></span></h2> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">如图，NE1~NE6l路由器共同构建SRv6骨干网络，属于同一自治系统AS65500。其中NE1，NE2，NE5，NE6路由器作为PE设备，用于VPNv4和VPNv6接入，NE3和NE4路由器作为P设备兼路由反射器RR，用于自治系统路由反射；自治系统内IGP采用IS-IS路由协议，实现自治系统内IPv6地址互通，在PE、P之间通过IPv6的环回口地址建立MP-IBGP对等体关系；PE和CE之间通过OSPFv2、OSPFv3相互交换IPv4，IPv6路由。</p> \n<h2 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; box-shadow: none; display: block; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow-x: unset; overflow-y: unset; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; position: relative; text-align: left; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 18px; color: rgb(14, 138, 235); line-height: 1.8em; letter-spacing: 0em; padding-top: 0px; padding-bottom: 0px; padding-left: 10px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: solid; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 5px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(14, 136, 235); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; box-shadow: none; display: block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; overflow-x: unset; overflow-y: unset; position: relative; text-align: left; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\">组网拓扑</span><span class=\"suffix\" style=\"display: none;\"></span></h2> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/31eb2228-354d-47ec-8568-38efc6729993.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<h2 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; box-shadow: none; display: block; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow-x: unset; overflow-y: unset; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; position: relative; text-align: left; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 18px; color: rgb(14, 138, 235); line-height: 1.8em; letter-spacing: 0em; padding-top: 0px; padding-bottom: 0px; padding-left: 10px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: solid; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 5px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(14, 136, 235); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; box-shadow: none; display: block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; overflow-x: unset; overflow-y: unset; position: relative; text-align: left; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\">配置思路</span><span class=\"suffix\" style=\"display: none;\"></span></h2> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">采用如下的思路配置VPNv4和VPNv6 over SRv6 TE Policy示例：</code></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.</span>&nbsp;使能PE,P各接口的IPv6转发能力，配置各接口的IPv6地址。<br><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2.</span>&nbsp;在PE,P上使能IS-IS，配置Level级别，指定网络实体。<br><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3.</span>&nbsp;在PE上配置VPN实例。<br><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4.</span>&nbsp;在PE和CE之间建立OSPF邻居关系。<br><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5.</span>&nbsp;在PE、P之间建立MP-IBGP对等体关系。<br><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6.</span>&nbsp;在P上配置路由反射器。<br><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">7.</span>&nbsp;在PE、P上配置SRv6&nbsp;SID，配置IS-IS的SRv6能力,同时在PE上配置VPN私网路由携带SID属性。<br><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">8.</span>&nbsp;在PE上配置SRv6&nbsp;TE&nbsp;Policy。<br><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">9.</span>&nbsp;在PE上配置隧道策略，引入私网流量。<br></code></pre> \n<h2 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; box-shadow: none; display: block; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow-x: unset; overflow-y: unset; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; position: relative; text-align: left; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 18px; color: rgb(14, 138, 235); line-height: 1.8em; letter-spacing: 0em; padding-top: 0px; padding-bottom: 0px; padding-left: 10px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: solid; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 5px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(14, 136, 235); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; box-shadow: none; display: block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; overflow-x: unset; overflow-y: unset; position: relative; text-align: left; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\">配置步骤</span><span class=\"suffix\" style=\"display: none;\"></span></h2> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">步骤1：</strong>配置PE,P设备接口IPv6转发能力及接口的IPv6地址；配置IS-IS配置Level级别，指定网络实体，各接口使能IS-IS实现骨干网IPv6互通，以NE1,NE3为例。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE1配置</strong></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;LoopBack0<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">128</span><br>&nbsp;isis&nbsp;ipv6&nbsp;enable&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span><br>&nbsp;undo&nbsp;shutdown<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">12</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;isis&nbsp;ipv6&nbsp;enable&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;isis&nbsp;circuit-type&nbsp;p2p<br>&nbsp;isis&nbsp;circuit-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;isis&nbsp;cost&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1000</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span><br>&nbsp;undo&nbsp;shutdown<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">13</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;isis&nbsp;ipv6&nbsp;enable&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;isis&nbsp;circuit-type&nbsp;p2p<br>&nbsp;isis&nbsp;circuit-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0001</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6&nbsp;//使能IS-IS的IPv6拓扑IPv6功能<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE3配置</strong></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;LoopBack0<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">128</span><br>&nbsp;isis&nbsp;ipv6&nbsp;enable&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span><br>&nbsp;undo&nbsp;shutdown<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">12</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">34</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;isis&nbsp;ipv6&nbsp;enable&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;isis&nbsp;circuit-type&nbsp;p2p<br>&nbsp;isis&nbsp;circuit-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;isis&nbsp;cost&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1000</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span><br>&nbsp;undo&nbsp;shutdown<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">13</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;isis&nbsp;ipv6&nbsp;enable&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;isis&nbsp;circuit-type&nbsp;p2p<br>&nbsp;isis&nbsp;circuit-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span><br>&nbsp;undo&nbsp;shutdown<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">35</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;isis&nbsp;ipv6&nbsp;enable&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;isis&nbsp;circuit-type&nbsp;p2p<br>&nbsp;isis&nbsp;circuit-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#&nbsp;</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0003</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">配置完成后，查看IS-IS邻居状态信息，IS-IS的IPv6路由信息，以NE1显示为例。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/ff6769f3-3469-4c97-b203-f828149553b8.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/420e471f-ba5b-446d-8466-3a422f01396e.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">步骤2：</strong>在PE上配置VPN实例,并将指定接口绑定到对应的VPN实例；在PE、P配置上配置MP-IBGP对等体关系，并在P上配置路由器反射器RR用于反射路由；在PE和CE之间配置OSPFv2、OSPFv3邻居关系彼此交换IPv4和IPv6的私网路由,以NE1，NE3、AR1显示为例。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE1配置</strong></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2.1</span><br>&nbsp;vlan-type&nbsp;dot1q&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;ip&nbsp;binding&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ip&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">255.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.252</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;ipv6&nbsp;address&nbsp;auto&nbsp;link-local<br>&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;ospfv3&nbsp;network-type&nbsp;p2p<br>&nbsp;ospf&nbsp;network-type&nbsp;p2p<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2.2</span><br>&nbsp;vlan-type&nbsp;dot1q&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span><br>&nbsp;ip&nbsp;binding&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ip&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.5</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">255.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.252</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;ipv6&nbsp;address&nbsp;auto&nbsp;link-local<br>&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;ospfv3&nbsp;network-type&nbsp;p2p<br>&nbsp;ospf&nbsp;network-type&nbsp;p2p<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4&nbsp;//配置MP-IBGP的的VPNv4邻居关系&nbsp;<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpna&nbsp;//BGP&nbsp;IPv4的VPN实例<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6&nbsp;//配置MP-IBGP的的VPNv6邻居关系<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpna&nbsp;//BGP&nbsp;IPv6的VPN实例<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span>&nbsp;vpn-instance&nbsp;vpna&nbsp;&nbsp;//配置PE与CE的OSPFv2邻居关系<br>&nbsp;default-route-advertise&nbsp;always<br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;bgp&nbsp;permit-ibgp&nbsp;type&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span><br>&nbsp;opaque-capability&nbsp;enable<br>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;&nbsp;network&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span>&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;default-route-advertise&nbsp;always&nbsp;cost&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;bgp&nbsp;permit-ibgp&nbsp;cost&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;type&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span><br>&nbsp;opaque-capability&nbsp;enable<br>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;&nbsp;network&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.4</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;vpn-instance&nbsp;vpna&nbsp;//配置PE与CE的OSPFv3邻居关系<br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;bgp&nbsp;permit-ibgp&nbsp;type&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span><br>&nbsp;default-route-advertise&nbsp;always<br>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;bgp&nbsp;permit-ibgp&nbsp;cost&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;type&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span><br>&nbsp;default-route-advertise&nbsp;always&nbsp;cost&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span><br>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">P配置</strong></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3.3</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4<br>&nbsp;&nbsp;undo&nbsp;policy&nbsp;vpn-target&nbsp;//N3作为RR，仅反射路由无需检测vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;reflect-client<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6<br>&nbsp;&nbsp;undo&nbsp;policy&nbsp;vpn-target&nbsp;//N3作为RR，仅反射路由无需检测vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;reflect-client<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">AR1配置</strong></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>sysname&nbsp;CE1<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpna&nbsp;<br>&nbsp;ipv4-family<br>&nbsp;ipv6-family&nbsp;<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv4-family<br>&nbsp;ipv6-family&nbsp;<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;GE0/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;GE0/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.1</span><br>&nbsp;ip&nbsp;binding&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ip&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.2</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">255.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.252</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;ipv6&nbsp;address&nbsp;auto&nbsp;link-local<br>&nbsp;encapsulation&nbsp;dot1q-termination<br>&nbsp;dot1q&nbsp;termination&nbsp;vid&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;ospfv3&nbsp;network-type&nbsp;p2p<br>&nbsp;ospf&nbsp;network-type&nbsp;p2p<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;GE0/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.2</span><br>&nbsp;ip&nbsp;binding&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ip&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.6</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">255.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.252</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;ipv6&nbsp;address&nbsp;auto&nbsp;link-local<br>&nbsp;encapsulation&nbsp;dot1q-termination<br>&nbsp;dot1q&nbsp;termination&nbsp;vid&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span><br>&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;ospfv3&nbsp;network-type&nbsp;p2p<br>&nbsp;ospf&nbsp;network-type&nbsp;p2p<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;GE0/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;GE0/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.1</span><br>&nbsp;ip&nbsp;binding&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ip&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.112</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.2</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">255.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.252</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">112</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;encapsulation&nbsp;dot1q-termination<br>&nbsp;dot1q&nbsp;termination&nbsp;vid&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;ospfv3&nbsp;network-type&nbsp;p2p<br>&nbsp;ospf&nbsp;network-type&nbsp;p2p<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;GE0/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.2</span><br>&nbsp;ip&nbsp;binding&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ip&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.112</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.6</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">255.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.252</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">112</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">96</span><br>&nbsp;encapsulation&nbsp;dot1q-termination<br>&nbsp;dot1q&nbsp;termination&nbsp;vid&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span><br>&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;ospfv3&nbsp;network-type&nbsp;p2p<br>&nbsp;ospf&nbsp;network-type&nbsp;p2p<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;GE0/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span><br>&nbsp;ip&nbsp;binding&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ip&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">192.168</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.254</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">255.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1111</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">254</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span><br>&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>interface&nbsp;GE0/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span><br>&nbsp;ip&nbsp;binding&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv6&nbsp;enable<br>&nbsp;ip&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">192.168</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.2</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.254</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">255.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;ipv6&nbsp;address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2222</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">254</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span><br>&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span>&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;&nbsp;network&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><br>&nbsp;&nbsp;network&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.112</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><br>&nbsp;&nbsp;network&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">192.168</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span>&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br>&nbsp;&nbsp;network&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.4</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><br>&nbsp;&nbsp;network&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.112</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.4</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><br>&nbsp;&nbsp;network&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">192.168</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.2</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span>&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.255</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><br>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.111</span><br>&nbsp;area&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">配置完成后，查看PE和P之间的MP-IBGP邻居关系，查看PE和CE之间的OSPFv2和OSPFv3邻居关系。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/0380b00c-0559-46aa-b707-ebfc6515fbc5.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/cdaaa250-f882-4f8e-9dda-8031cca0b391.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/ebb64826-7fce-4d35-969f-c03a3a156f1c.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/7e479caf-e5bb-4343-b0c9-b758741d0756.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">步骤3：</strong>在PE、P配置SRv6 SID，配置IS-IS的SRv6能力；同时在PE配置VPN私网路由携带SID属性；在PE上配置SRv6 TE Policy，在PE上配置隧道策略，引入私网流量。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">说明：在部署SRv6 TE Policy之前，先部署SRv6 BE，结合通过修改cost值，路由层面实现PC1-&gt;PC3和PC2-&gt;PC4分流，如下图。即PC1访问PC3的路径为PC1-&gt;AR1-&gt;NE1-&gt;NE3-&gt;NE5-&gt;AR2-&gt;PC3;PC1访问PC3的路径为PC2-&gt;AR1-&gt;NE2-&gt;NE4-&gt;NE6-&gt;AR2-&gt;PC4，通过SRv6 BE和SRv6 TE Policy作对比，体现SRv6 TE Policy的灵活性</code></p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/a17e7e72-f5c6-4ad7-b787-57b1b7609219.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">SRv6 BE部署</strong></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE1配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;encapsulation&nbsp;source-address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;//配置封装源地址<br>&nbsp;locator&nbsp;NE1&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span>&nbsp;//配置locator前缀为<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span><br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpna&nbsp;//&nbsp;配置静态SID的Opcode，End.DT4&nbsp;ID&nbsp;&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>用于标识vpna&nbsp;的IPv4路由（类似MPLS&nbsp;VPN中的私网标签）<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpnb&nbsp;//&nbsp;配置静态SID的Opcode，End.DT4&nbsp;ID&nbsp;&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>用于标识vpnb的IPv4路由（类似MPLS&nbsp;VPN中的私网标签）<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpna&nbsp;//&nbsp;配置静态SID的Opcode，End.DT6&nbsp;ID&nbsp;&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>用于标识vpnb的IPv6路由（类似MPLS&nbsp;VPN中的私网标签）<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpnb&nbsp;//&nbsp;配置静态SID的Opcode，End.DT6&nbsp;ID&nbsp;&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>用于标识vpnb的IPv6路由（类似MPLS&nbsp;VPN中的私网标签）<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0001</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1&nbsp;//配置IS-IS的segment-routing&nbsp;ipv6功能，并将locator&nbsp;NE1的<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>路由ISIS泛洪出去<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;prefix-sid&nbsp;//与对等体交换Prefix&nbsp;SID信息<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1&nbsp;//VPN的私网路由携带SID属性<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort&nbsp;//根据路由携带SID属性信息将私网路由迭代到SRv6&nbsp;BE隧道<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/733a1d43-a7cf-40dd-a311-b3622b746811.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/ed1b2800-95cd-41c6-bce9-add7588a7a84.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE2配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">segment-routing&nbsp;ipv6<br>&nbsp;encapsulation&nbsp;source-address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span><br>&nbsp;locator&nbsp;NE2&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span>&nbsp;&nbsp;//配置locator前缀为<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>::/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span><br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpnb<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0002</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE2&nbsp;//配置IS-IS的segment-routing&nbsp;ipv6功能，并将locator&nbsp;NE1的<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>::/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>路由ISIS泛洪出去<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2.2</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.2</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.2</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;prefix-sid&nbsp;//与对等体交换Prefix&nbsp;SID信息<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE2&nbsp;//VPN的私网路由携带SID属性<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort&nbsp;//根据路由携带SID属性信息将私网路由迭代到SRv6&nbsp;BE隧道<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE2<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE2<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE2<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/042d9e4c-5f58-46ca-a0e6-706337c77566.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/86774f22-46fc-4b71-abe9-589cfb36cd34.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE3配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">&lt;NE3&gt;dis&nbsp;cu&nbsp;con&nbsp;bgp&nbsp;<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3.3</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.3</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4<br>&nbsp;&nbsp;undo&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6<br>&nbsp;&nbsp;undo&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;prefix-sid<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE4配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4.4</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.4</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.4</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4<br>&nbsp;&nbsp;undo&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6<br>&nbsp;&nbsp;undo&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;reflect-client<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;prefix-sid<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE5配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;encapsulation&nbsp;source-address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span><br>&nbsp;locator&nbsp;NE5&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">500</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span>&nbsp;//配置locator前缀为<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">500</span>::/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span><br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpnb<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0005</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE5<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5.5</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.5</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.5</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;group&nbsp;IBGP-RR&nbsp;internal<br>&nbsp;peer&nbsp;IBGP-RR&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;group&nbsp;IBGP-RR<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;group&nbsp;IBGP-RR<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;&nbsp;peer&nbsp;IBGP-RR&nbsp;enable<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE5<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE5<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE5<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE5<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/fd9615f7-0d46-4bf9-b826-f6ec64bd397b.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/8d34e803-98d5-45b9-bb7b-6b84e5780e53.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE6配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;encapsulation&nbsp;source-address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span><br>&nbsp;locator&nbsp;NE6&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">600</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span><br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpnb<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0006</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE6<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6.6</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.6</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.6</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;group&nbsp;IBGP-RR&nbsp;internal<br>&nbsp;peer&nbsp;IBGP-RR&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;group&nbsp;IBGP-RR<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;group&nbsp;IBGP-RR<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;&nbsp;peer&nbsp;IBGP-RR&nbsp;enable<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE6<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE6<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE6<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE6<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;best-effort<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/4c17a766-9d78-4295-892d-9b081916ea38.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/27d08b21-2018-4d9e-b6ee-b28d18f3cfeb.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">PC1与PC3通过IPv4互访</em></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">在NE1上使用命令<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">display ip routing-table vpn-instance vpna 192.168.3.0</code>查看去往PC3的路由，下一跳是<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:ABCD:500::10</code>，出接口为SRv6 BE，当PC1访问PC3时在PE上封装源为<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:11::1</code>，目的为<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:ABCD:500::10</code>,而<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:ABCD:500::/64</code>路由已在NE5通过IS-IS泛洪至整个自治系统，路由可达，PC1访问PC3的流量在NE1封装后，迭代到SRv6 BE隧道发送至NE5解封装，NE5根据<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:ABCD:500::10</code>,与本地的配置<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.DT4 SID</code>一致,标识的是vpna,将封装后的IPv4报文通过vpna的接口发送至AR2，然后送给PC3。即路径为：<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC1-&gt;AR1-&gt;NE1-&gt;NE3-&gt;NE5-&gt;AR2-&gt;PC3</code>。同理，PC3回包过程也是一样。回包路径为:<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC3-&gt;AR2-&gt;NE5-&gt;NE3-&gt;NE1-&gt;AR1-&gt;PC1</code>。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/98e6ce90-c101-44f0-a93e-7109bb91d3ae.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/c701ce88-d800-4247-9a39-9bb22ae024cd.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/811960b1-82d8-404a-8498-46a241c6b955.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">PC1与PC3通过IPv6互访</em></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">同样，使用PC1的IPv6的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:1111::1</code> ping PC3的IPv6的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:3333::1</code>原理和上述过程一样。在NE1上使用命令display ipv6 routing-table vpn-instance vpna 2001:abcd:3333::查看去往PC3的路由，下一跳是<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:ABCD:500::11</code>，出接口为SRv6 BE，当PC1访问PC3时在PE上封装源为<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:11::1</code>，目的为<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:ABCD:500::11</code>,而<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:ABCD:500::/64</code>路由已在NE5通过IS-IS泛洪至整个自治系统，路由可达，PC1访问PC3的流量在NE1封装后，迭代到SRv6 BE隧道发送至NE5解封装，NE5根据<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:ABCD:500::11</code>,与本地的配置<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.DT6 SID</code>一致,标识的是vpna,将封装后的IPv4报文通过vpna的接口发送至AR2，然后送给PC3。即路径为：<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC1-&gt;AR1-&gt;NE1-&gt;NE3-&gt;NE5-&gt;AR2-&gt;PC3</code>。同理，PC3回包过程也是一样。回包路径为:<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC3-&gt;AR2-&gt;NE5-&gt;NE3-&gt;NE1-&gt;AR1-&gt;PC1</code>。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/f52f03f9-2a02-4153-a7c1-b368ee6b7505.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/cfbcdc1c-dc7c-4baa-900c-293a97d4ec0e.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">PC2与PC4通过IPv4互访</em>，<em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">PC2与PC4通过IPv6互访</em>的过程与上述一样，PC2访问PC4的路径为：<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC2-&gt;AR1-&gt;NE2-&gt;NE4-&gt;NE6-&gt;AR2-&gt;PC4</code>；PC4回包路径为：<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC4-&gt;AR2-&gt;NE6-&gt;NE4-&gt;NE2-&gt;AR1-&gt;PC2</code>；</p> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">SRv6 TE Policy部署</strong></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">前面过程经体验了SRv6 BE的流量转发过程，路由层面虽然能通过修改cost值将vpna和vpnb的互访流量进行分流，本质上还是尽力而为的转发方式（BE）。通常规模比较大的SRv6网络会部署控制器收集全网拓扑信息，根据收集的拓扑信息计算出合适的流量转发路径，再通过SRv6 TE Policy下发给设备，设备根据SRv6 TE Policy编排好的路径进行流量转发。因无控制器，采用在设备上手动配置SRv6 TE Policy，设备按SRv6 TE Policy编排好的路径进行流量转发。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">SRv6 TE Policy数据转发原理</strong></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">以L3VPNv4 over SRv6 TE Policy为例，介绍SRv6 TE Policy数据转发过程。具体如图所示：</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">1.控制器下发SRv6&nbsp;TE&nbsp;Policy给头端PE1设备。<br><br>2.尾端PE2设备发布BGP&nbsp;VPNv4路由10.2.2.2/32给头端PE1设备，BGP路由的下一跳是PE2设备的地址2001:DB8:1::1/128。<br><br>3.在头端PE1设备上配置隧道策略。PE1设备在接收到BGP路由以后，利用路由的Color和下一跳迭代到SRv6&nbsp;TE&nbsp;Policy，SRv6&nbsp;TE&nbsp;Policy的SID&nbsp;List是&lt;2001:DB8:A4::1,&nbsp;2001:DB8:A3::1,&nbsp;2001:DB8:A2::1&gt;。其中SID&nbsp;List&nbsp;&lt;2001:DB8:A4::1,&nbsp;2001:DB8:A3::1,&nbsp;2001:DB8:A2::1&gt;用在数据转发场景时，也可以表示为(2001:DB8:A2::1,&nbsp;2001:DB8:A3::1,&nbsp;2001:DB8:A4::1)。<br><br>4.头端PE1接收到CE1发送的普通单播报文后，查找VPN实例路由表，该路由的出接口是SRv6&nbsp;TE&nbsp;Policy。PE1为报文插入SRH信息，封装SRv6&nbsp;TE&nbsp;Policy的SID&nbsp;List和VPN&nbsp;SID，然后封装IPv6报文头信息。完成之后，PE1将报文对P1转发。<br><br>5.中间P1和P2节点根据SRH信息逐跳转发。<br><br>6.报文到达尾节点PE2之后，PE2使用报文的IPv6目的地址2001:DB8:A4::1查找My&nbsp;Local&nbsp;SID表，命中到End&nbsp;SID，所以PE2将报文SL减1，IPv6&nbsp;DA更新为VPN&nbsp;SID&nbsp;2001:DB8:A4::100。<br><br>PE2使用VPN&nbsp;SID&nbsp;2001:DB8:A4::100查找My&nbsp;Local&nbsp;SID表，命中到End.DT4&nbsp;SID，PE2解封装报文，去掉SRH信息和IPv6报文头，使用内层报文目的地址查找VPN&nbsp;SID&nbsp;2001:DB8:A4::100对应的VPN实例路由表，然后将报文转发给CE2。<br></code></pre> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/d87ffcb8-aa87-4414-b834-db916ac2b3be.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">A.PC1访问PC3的SRv6 TE Policy规划</strong></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">如下图所示,<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC1</code> 与 <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC3</code>的互访流量按照<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End SID</code>(用于标识网络中的某个目的节点,类似SR-MPLS中的Node SID)的段列表路径进行流量转发,<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC1</code> ping <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC3</code>的去向流量路径<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC1-&gt;AR1-&gt;NE1-&gt;NE2-&gt;NE4-&gt;NE3-&gt;NE5-&gt;AR2-PC3</code>,回向流量路径<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC3-&gt;AR2-&gt;NE5-&gt;NE3-&gt;NE4-&gt;NE2-&gt;NE1-&gt;AR1-PC1</code>。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/f242fa96-516d-46ca-b739-caf451b4a558.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">B.PC2访问PC4的SRv6 TE Policy规划</strong></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">如下图所示,<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC2</code> 与 <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC4</code>的互访流量按照<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.X SID</code>(用于标识网络中的某条链路,类似SR-MPLS中的Adjacency SID)的段列表路径进行流量转发,<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC2</code> ping <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC4</code>的去向流量路径<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC2-&gt;AR2-&gt;NE2-&gt;NE1-&gt;NE3-&gt;NE4-&gt;NE6-&gt;AR2-PC3</code>,回向流量路径<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC4-&gt;AR2-&gt;NE6-&gt;NE4-&gt;NE3-&gt;NE1-&gt;NE2-&gt;AR1-PC2</code>。 <img src=\"https://files.mdnice.com/user/51007/589be23b-7119-43ea-a24b-e4bb2ca7666b.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%;\"></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">SRv6 TE Policy实施</strong></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">(1)在NE1~NE6上完成SRv6 SID和SRv6 TE Policy相关配置,<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NE1和NE5</code>作为 <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC1和PC3</code> 互访的SRv6 TE Policy隧道的头尾端；<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">NE2和NE6</code>作为 <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC2和PC4</code> 互访的SRv6 TE Policy隧道的头尾端。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE1配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;encapsulation&nbsp;source-address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span><br>&nbsp;locator&nbsp;NE1&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span>&nbsp;//locator前缀<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111</span>&nbsp;end&nbsp;no-flavor&nbsp;//NE1的End&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">12</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;no-flavor&nbsp;//NE1的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">13</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;no-flavor&nbsp;//NE1的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpna&nbsp;//NE1上标识vpna&nbsp;ipv4路由的End-DT4&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpnb&nbsp;//NE1上标识vpnb&nbsp;ipv4路由的End-DT4&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpna&nbsp;//NE1上标识vpna&nbsp;ipv6路由的End-DT6&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpnb&nbsp;//NE1上标识vpnb&nbsp;ipv6路由的End-DT6&nbsp;SID<br>&nbsp;srv6-te-policy&nbsp;locator&nbsp;NE1&nbsp;//srv6-te-policy关联locator&nbsp;NE1<br>&nbsp;segment-list&nbsp;list1&nbsp;//配置段列表（PC1-&gt;PC3路径），使用End&nbsp;SID来编排<br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">222</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">400</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">444</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">300</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">333</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">500</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">555</span><br>&nbsp;srv6-te&nbsp;policy&nbsp;policy1&nbsp;endpoint&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;color&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;&nbsp;//配置srv6-te-policy尾端、访问颜色为<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>目的地址走srv6-te-policy隧道<br>&nbsp;&nbsp;binding-sid&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1000</span>&nbsp;//配置隧道的BSID<br>&nbsp;&nbsp;candidate-path&nbsp;preference&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;//配置候选路径及优先级<br>&nbsp;&nbsp;&nbsp;segment-list&nbsp;list1&nbsp;//引用段列表&nbsp;list1<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0001</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1&nbsp;auto-sid-disable&nbsp;//通过ISIS将SRv6的&nbsp;locator泛洪出去<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE2配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;encapsulation&nbsp;source-address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span><br>&nbsp;locator&nbsp;NE2&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span>&nbsp;//locator前缀<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">222</span>&nbsp;end&nbsp;no-flavor&nbsp;//NE2的End&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">12</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;no-flavor&nbsp;//NE2的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">24</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;no-flavor&nbsp;//NE2的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpna&nbsp;//NE2上标识vpna&nbsp;ipv4路由的End-DT4&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpnb&nbsp;//NE2上标识vpnb&nbsp;ipv4路由的End-DT4&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpna&nbsp;//NE2上标识vpna&nbsp;ipv6路由的End-DT6&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpnb&nbsp;//NE2上标识vpnb&nbsp;ipv6路由的End-DT6&nbsp;SID<br>&nbsp;srv6-te-policy&nbsp;locator&nbsp;NE2&nbsp;&nbsp;//srv6-te-policy关联locator&nbsp;NE2<br>&nbsp;segment-list&nbsp;list2&nbsp;//配置段列表（PC2-&gt;PC4路径），使用End.X&nbsp;SID来编排<br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">300</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">400</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">102</span><br>&nbsp;srv6-te&nbsp;policy&nbsp;policy2&nbsp;endpoint&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;color&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;//配置srv6-te-policy尾端、访问颜色为<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>目的地址走srv6-te-policy隧道<br>&nbsp;&nbsp;binding-sid&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1000</span>&nbsp;//配置隧道的BSID<br>&nbsp;&nbsp;candidate-path&nbsp;preference&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;//配置候选路径及优先级<br>&nbsp;&nbsp;&nbsp;segment-list&nbsp;list2&nbsp;//引用段列表&nbsp;list2<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0002</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE2&nbsp;auto-sid-disable&nbsp;//通过ISIS将SRv6的&nbsp;locator泛洪出去<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE3配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;locator&nbsp;NE3&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">300</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span><br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">333</span>&nbsp;end&nbsp;no-flavor&nbsp;//NE3的End&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">34</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;no-flavor&nbsp;//NE3的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">13</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;no-flavor&nbsp;//NE3的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">102</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">35</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;no-flavor&nbsp;//NE3的End.X&nbsp;SID<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0003</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE3&nbsp;auto-sid-disable&nbsp;//通过ISIS将SRv6的&nbsp;locator泛洪出去<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE4配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;locator&nbsp;NE4&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">400</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span><br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">444</span>&nbsp;end&nbsp;no-flavor&nbsp;//NE4的End&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">34</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;no-flavor&nbsp;//NE4的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">24</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;no-flavor&nbsp;//NE4的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">102</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">46</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;no-flavor&nbsp;//NE4的End.X&nbsp;SID<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0004</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE4&nbsp;auto-sid-disable&nbsp;//通过ISIS将SRv6的&nbsp;locator泛洪出去<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE5配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;encapsulation&nbsp;source-address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">55</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span><br>&nbsp;locator&nbsp;NE5&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">500</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span>&nbsp;//locator前缀<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">555</span>&nbsp;end&nbsp;no-flavor&nbsp;//NE5的End&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">56</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span>&nbsp;no-flavor&nbsp;//NE5的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">35</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;no-flavor&nbsp;//NE5的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpna&nbsp;//NE5上标识vpna&nbsp;ipv4路由的End-DT4&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpnb&nbsp;//NE5上标识vpnb&nbsp;ipv4路由的End-DT4&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpna&nbsp;//NE5上标识vpna&nbsp;ipv6路由的End-DT6&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpnb&nbsp;//NE5上标识vpnb&nbsp;ipv6路由的End-DT6&nbsp;SID<br>&nbsp;srv6-te-policy&nbsp;locator&nbsp;NE5&nbsp;//srv6-te-policy关联locator&nbsp;NE5<br>&nbsp;segment-list&nbsp;list5&nbsp;//配置段列表（PC3-&gt;PC1路径），使用End&nbsp;SID来编排<br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">300</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">333</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">400</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">444</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">222</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">111</span><br>&nbsp;srv6-te&nbsp;policy&nbsp;policy5&nbsp;endpoint&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;color&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;//配置srv6-te-policy尾端、访问颜色为<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>目的地址走srv6-te-policy隧道<br>&nbsp;&nbsp;binding-sid&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">500</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1000</span>&nbsp;//配置隧道的BSID<br>&nbsp;&nbsp;candidate-path&nbsp;preference&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;//配置候选路径及优先级<br>&nbsp;&nbsp;&nbsp;segment-list&nbsp;list5&nbsp;//引用段列表&nbsp;list5<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0005</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE5&nbsp;auto-sid-disable&nbsp;//通过ISIS将SRv6的&nbsp;locator泛洪出去<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE6配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>segment-routing&nbsp;ipv6<br>&nbsp;encapsulation&nbsp;source-address&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">66</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">6</span><br>&nbsp;locator&nbsp;NE6&nbsp;ipv6-prefix&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">600</span>::&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">64</span>&nbsp;static&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">32</span>&nbsp;//locator前缀<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">666</span>&nbsp;end&nbsp;no-flavor&nbsp;//NE6的End&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">56</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">5</span>&nbsp;no-flavor&nbsp;//NE6的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span>&nbsp;end-x&nbsp;interface&nbsp;Ethernet3/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">0</span>/<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span>&nbsp;nexthop&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">46</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;no-flavor&nbsp;//NE6的End.X&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpna&nbsp;//NE6上标识vpna&nbsp;ipv4路由的End-DT4&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;end-dt4&nbsp;vpn-instance&nbsp;vpnb&nbsp;//NE6上标识vpnb&nbsp;ipv4路由的End-DT4&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">11</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpna&nbsp;//NE6上标识vpna&nbsp;ipv6路由的End-DT6&nbsp;SID<br>&nbsp;&nbsp;opcode&nbsp;::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">21</span>&nbsp;end-dt6&nbsp;vpn-instance&nbsp;vpnb&nbsp;//NE6上标识vpnb&nbsp;ipv6路由的End-DT6&nbsp;SID<br>&nbsp;srv6-te-policy&nbsp;locator&nbsp;NE6&nbsp;//srv6-te-policy关联locator&nbsp;NE6<br>&nbsp;segment-list&nbsp;list6&nbsp;&nbsp;//配置段列表（PC4-&gt;PC2路径），使用End.X&nbsp;SID来编排<br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">600</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">400</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">300</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">101</span><br>&nbsp;&nbsp;index&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span>&nbsp;sid&nbsp;ipv6&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span><br>&nbsp;srv6-te&nbsp;policy&nbsp;policy6&nbsp;endpoint&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;color&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;//配置srv6-te-policy尾端、访问颜色为<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>目的地址走srv6-te-policy隧道<br>&nbsp;&nbsp;binding-sid&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">600</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1000</span>&nbsp;//配置隧道的BSID<br>&nbsp;&nbsp;candidate-path&nbsp;preference&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;//配置候选路径及优先级<br>&nbsp;&nbsp;&nbsp;segment-list&nbsp;list6&nbsp;//引用段列表&nbsp;list6<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>isis&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">is</span>-level&nbsp;level<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-2</span><br>&nbsp;cost-style&nbsp;wide<br>&nbsp;network-entity&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">50.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0000</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.0006</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.00</span><br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6&nbsp;enable&nbsp;topology&nbsp;ipv6<br>&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE6&nbsp;auto-sid-disable&nbsp;//通过ISIS将SRv6的&nbsp;locator泛洪出去<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">（2）在NE1,NE2,NE5,NE6的BGP VPN实例视图下，通告VPN的私网路由携带SID属性及根据路由携带SID属性信息将VPN的私网路由迭代到SRv6隧道，以NE1为例。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE1配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>bgp&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;router-id&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">.1</span><br>&nbsp;private<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">-4</span>-byte-<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>&nbsp;enable<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">as</span>-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span><br>&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;connect-interface&nbsp;LoopBack0<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;unicast<br>&nbsp;&nbsp;undo&nbsp;synchronization<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpnv4<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;route-policy&nbsp;color&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span><br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;route-policy&nbsp;color&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span><br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;route-policy&nbsp;color&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span><br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1&nbsp;//通告VPN的私网路由携带SID属性<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;traffic-engineer&nbsp;best-effort//根据路由携带SID属性信息将VPN的私网路由迭代到SRv6隧道<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv4-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospf&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;traffic-engineer&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpnv6<br>&nbsp;&nbsp;policy&nbsp;vpn-target<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;route-policy&nbsp;color&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span><br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">22</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;route-policy&nbsp;color&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span><br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">33</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">3</span>&nbsp;prefix-sid<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;enable<br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;route-policy&nbsp;color&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span><br>&nbsp;&nbsp;peer&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">2001</span>:ABCD:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">44</span>::<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">4</span>&nbsp;prefix-sid<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;traffic-engineer&nbsp;best-effort<br>&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>&nbsp;ipv6-family&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;direct<br>&nbsp;&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-route&nbsp;ospfv3&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;locator&nbsp;NE1<br>&nbsp;&nbsp;segment-routing&nbsp;ipv6&nbsp;traffic-engineer&nbsp;best-effort<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">(3)在NE1和NE5，NE2和NE6上配置隧道策略，并将私网流量引入至隧道。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE1配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>tunnel-policy&nbsp;p1<br>&nbsp;tunnel&nbsp;select-seq&nbsp;ipv6&nbsp;srv6-te-policy&nbsp;load-balance-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;tnl-policy&nbsp;p1&nbsp;//引用隧道策略p1<br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family&nbsp;&nbsp;<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;tnl-policy&nbsp;p1&nbsp;//引用隧道策略p1<br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE5配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>tunnel-policy&nbsp;p1<br>&nbsp;tunnel&nbsp;select-seq&nbsp;ipv6&nbsp;srv6-te-policy&nbsp;load-balance-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;tnl-policy&nbsp;p1&nbsp;//引用隧道策略p1<br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family&nbsp;&nbsp;<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">10</span><br>&nbsp;&nbsp;tnl-policy&nbsp;p1&nbsp;//引用隧道策略p1<br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">30</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE2配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>tunnel-policy&nbsp;p1<br>&nbsp;tunnel&nbsp;select-seq&nbsp;ipv6&nbsp;srv6-te-policy&nbsp;load-balance-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span><br>&nbsp;&nbsp;tnl-policy&nbsp;p1&nbsp;//引用隧道策略p1<br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span><br>&nbsp;&nbsp;tnl-policy&nbsp;p1&nbsp;//引用隧道策略p1<br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><em style=\"color: rgb(14, 136, 235); font-style: italic; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">NE6配置</em></p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>tunnel-policy&nbsp;p1<br>&nbsp;tunnel&nbsp;select-seq&nbsp;ipv6&nbsp;srv6-te-policy&nbsp;load-balance-number&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">1</span><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpna<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">20</span><br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">100</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br>ip&nbsp;vpn-instance&nbsp;vpnb<br>&nbsp;ipv4-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span><br>&nbsp;&nbsp;tnl-policy&nbsp;p1&nbsp;//引用隧道策略p1<br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br>&nbsp;ipv6-family<br>&nbsp;&nbsp;route-distinguisher&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">40</span><br>&nbsp;&nbsp;tnl-policy&nbsp;p1&nbsp;//引用隧道策略p1<br>&nbsp;&nbsp;apply-label&nbsp;per-instance<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;export-extcommunity<br>&nbsp;&nbsp;vpn-target&nbsp;<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">65500</span>:<span class=\"hljs-number\" style=\"color: #d19a66; line-height: 26px;\">200</span>&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">import</span>-extcommunity<br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#</span><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">(4)在NE1和NE5查看vpna的IPv4和IPv6的路由均已迭代到SRv6 TE Policy隧道; <img src=\"https://files.mdnice.com/user/51007/1c47090e-6d3c-4235-8b27-f7a7dfff3261.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%;\"></p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/de60be66-5a74-4c8e-a288-8f5e149c4382.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/288f2c65-c588-47a3-be57-619faba614bb.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/d72b0bc0-d30a-443a-9a30-017916e4b6a1.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">在NE2和NE6查看vpnb的IPv4和IPv6的路由均已迭代到SRv6 TE Policy隧道。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/5c8a13ec-2206-44ec-b1ae-d1455e7aa31e.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/327486da-a77f-4348-8903-fb2491e98542.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/a6a0edd7-e90e-4ffe-afe1-7dea2fd7be11.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/a8e08c5a-164a-4b04-b162-c90bf67ec627.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<h2 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; box-shadow: none; display: block; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow-x: unset; overflow-y: unset; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; position: relative; text-align: left; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 18px; color: rgb(14, 138, 235); line-height: 1.8em; letter-spacing: 0em; padding-top: 0px; padding-bottom: 0px; padding-left: 10px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: solid; border-right-style: none; border-top-width: 1px; border-bottom-width: 1px; border-left-width: 5px; border-right-width: 1px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(14, 136, 235); border-right-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; align-items: unset; background-attachment: scroll; background-clip: border-box; background-color: unset; background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; box-shadow: none; display: block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; overflow-x: unset; overflow-y: unset; position: relative; text-align: left; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;\">SRv6 TE Policy数据转发过程</span><span class=\"suffix\" style=\"display: none;\"></span></h2> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\"><code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">A.PC1（192.168.1.1）</code> ping <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC3（192.168.3.1）。</code></strong></p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/938c67a8-234a-4f6a-8ea0-4f2d766b1d07.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/6e7055d7-3a40-40d6-a353-e7a9c1e2d919.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">1.头端NE1接收到AR1发送的普通单播报文后，查找VPN实例vpna路由表，该路由的出接口是SRv6 TE Policy。NE1为报文插入SRH信息，封装SRv6 TE Policy的SID List和VPN SID，然后封装IPv6报文头信息<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">(源IP为::,目的IP为：2001:abcd:200::222)</code>,完成之后，NE1再将报文发送给NE2。 <img src=\"https://files.mdnice.com/user/51007/932f9e13-1aa4-48b7-94dd-da530b650e74.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%;\"></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">2.报文到达节点NE2之后，NE2使用报文的IPv6目的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:200::222</code>查找自己的SID表，命中到<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End SID</code>，所以NE2将报文SL减1，IPv6 DA更新为NE4的<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End SID 2001:abcd:400::444</code>,NE2再报文发送给NE4。 <img src=\"https://files.mdnice.com/user/51007/317e3d1c-2da7-4249-a0a7-d7fa3071c6a0.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%;\"></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">3.报文到达节点NE4之后，NE4使用报文的IPv6目的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:400::444</code>查找自己的SID表，命中到<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End SID</code>，所以NE4将报文SL减1，IPv6 DA更新为NE3的<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End SID 2001:abcd:300::333</code>,NE4再报文发送给NE3。 <img src=\"https://files.mdnice.com/user/51007/332c33ce-a7a9-4ada-acf9-7ed3263cd755.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%;\"></p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">4.报文到达节点NE3之后，NE3使用报文的IPv6目的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:300::333</code>查找自己的SID表，命中到<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End SID</code>，所以NE3将报文SL减1，IPv6 DA更新为NE5的<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End SID 2001:abcd:500::555</code>,NE3再报文发送给NE5。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/0a8edafc-4e23-4be4-b098-890c15daa68c.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">5.报文到达节点NE5之后，NE5使用报文的IPv6目的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:500::555</code>查找自己的SID表，命中到<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End SID</code>，使用VPN SID<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:500::10</code>查找自己的SID表，命中到End.DT4 SID，NE5解封装报文，去掉SRH信息和IPv6报文头，使用内层报文目的地址查找VPN SID <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:500::10</code>对应的VPN实例vpna路由表，然后将报文转发给AR2。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/83a89798-45fd-43dc-8b99-d860027bb396.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<br data-tool=\"mdnice编辑器\"> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><strong style=\"color: rgb(14, 136, 235); font-weight: bold; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\"><code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">B.PC2（192.168.2.1）</code> ping <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">PC4（192.168.4.1）。</code></strong></p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/3eebfce5-406b-4de1-b977-db227140ecf7.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/e3049d1d-e783-40e9-bbf7-2a3894c621fa.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">2.头端NE2接收到AR1发送的普通单播报文后，查找VPN实例vpnb路由表，该路由的出接口是SRv6 TE Policy。NE2为报文插入SRH信息，封装SRv6 TE Policy的SID List和VPN SID，然后封装IPv6报文头信息<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">(源IP为::,目的IP为：2001:abcd:100::101)</code>,完成之后,NE2根据自己的End.X SID通过Eth3/0/0接口将报文发送至NE1;</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/cbe73b95-51e8-4fcd-bc79-4cf150d74b89.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">2.报文到达节点NE1之后，NE1使用报文的IPv6目的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:100::101</code>查找自己的SID表，命中到<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.X SID</code>，所以NE1将报文SL减1，IPv6 DA更新为NE3的<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.X SID 2001:abcd:300::100</code>,NE1根据自己的End.X SID通过Eth3/0/1接口将报文发送至NE3。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/9920d60a-5ce8-4a03-8a6d-ed116441fd0d.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">3.报文到达节点NE3之后，NE3使用报文的IPv6目的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:300::100</code>查找自己的SID表，命中到<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.X SID</code>，所以NE1将报文SL减1，IPv6 DA更新为NE4的<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.X SID 2001:abcd:400::102</code>,NE3根据自己的End.X SID通过Eth3/0/0接口将报文发送至NE4。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/786b4ec5-1593-4fc6-9ee2-c9a7715aad9f.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">4.报文到达节点NE4之后，NE4使用报文的IPv6目的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:400::102</code>查找自己的SID表，命中到<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.X SID</code>，所以NE4将报文SL减1，IPv6 DA更新为NE6的<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.DT4 SID 2001:abcd:600::20</code>,NE4根据自己的End.X SID通过Eth3/0/2接口将报文发送至NE6。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/485504d6-d0d5-435e-be68-4228e88a303a.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">5.报文到达节点NE6之后，NE6使用报文的IPv6目的地址<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:600::20</code>查找自己的SID表，命中到<code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">End.DT4 SID</code>，NE6解封装报文，去掉SRH信息和IPv6报文头，使用内层报文目的地址查找VPN SID <code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">2001:abcd:600::20</code>对应的VPN实例vpnb路由表，然后将报文转发给AR2。</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/51007/a525f4be-dbc1-4958-8927-9da28df2f3bf.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgb(133, 161, 201) 0px 0px 5px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 15px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\"><code style=\"color: rgb(14, 138, 235); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background-attachment: scroll; background-clip: border-box; background-color: rgba(27, 31, 35, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; margin-top: 0px; margin-bottom: 0px; margin-left: 2px; margin-right: 2px; padding-top: 2px; padding-bottom: 2px; padding-left: 4px; padding-right: 4px; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgb(0, 0, 0); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; overflow-wrap: break-word; font-family: 'Operator Mono', Consolas, Monaco, Menlo, monospace; word-break: break-all;\">说明：PC1(2001:ABCD:1111::1) ping PC3(2001:ABCD:3333::1); PC2(2001:ABCD:2222::1) ping PC4(2001:ABCD:4444::1)的SRv6 TE Policy数据转发过程和上诉过程一样，不作赘述</code></p>",
                "title": "VPNv4和VPNv6 over SRv6 TE Policy",
                "categoryId": 10,
                "categoryName": "其他",
                "tagId": 10,
                "tagName": "其他",
                "userId": 51007,
                "userOutId": "522625109854",
                "username": "liangy0ng",
                "avatar": "https://files.mdnice.com/pic/057471e3-af2e-43d8-930b-d83d25c3c471.jpg",
                "description": "VPNv4和VPNv6overSRv6TEPolicy组网案例组网介绍如图，NE1~NE6l路由器共同构建SRv6骨干网络，属于同一自治系统AS65500。其中NE1，NE2，NE5，NE6路由器作为",
                "level": 1,
                "publishTime": "2024/09/07",
                "readingNum": 1,
                "likeNum": 0,
                "introduction": "",
                "followWords": "让我再卷一分钟",
                "followPic": "https://files.mdnice.com/pic/93db59f1-994e-4421-b97d-77e5297c9ca3.jpg",
                "isFollowing": false,
                "isLike": false,
                "isSelf": false,
                "type": 1,
                "isVisible": true,
                "invisibleReason": null,
                "writingColumn": {
                    "columnOutId": "2cd24f6ed0d64ea4afd881c4e958ce82",
                    "name": "默认专栏",
                    "briefIntro": "这是一个默认专栏",
                    "cover": "https://files.mdnice.com/common/community/default-column-cover.jpg",
                    "writingNum": 17,
                    "createTime": "2024-08-06 19:03"
                }
            }
        },
        "__N_SSP": true
    },
    "page": "/writing/[id]",
    "query": {
        "id": "8804d95c1b9745148038ce7e25695421"
    },
    "buildId": "ErZPkD4oq6iwH2nj6Dpcx",
    "isFallback": false,
    "gssp": true,
    "appGip": true
}