{
    "props": {
        "pageProps": {
            "query": {
                "id": "a0c72d808ce0483881f2a84d70434826"
            },
            "ieBrowser": false,
            "needRefresh": false,
            "writingDetail": {
                "id": 85879,
                "outId": "a0c72d808ce0483881f2a84d70434826",
                "articleOutId": "a0c72d808ce0483881f2a84d70434826",
                "html": "<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">昨天的文章 介绍了 通过AI大模型询问 相关概念股， AI大模型基本是依赖网络被普及的内容， 不一定靠谱。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">怎么理解这句话呢？ 经过网络的发酵，很多人发了XXX是某某概念股， AI大模型理解 这只股就是了。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">备注：上次我搜索一段股票相关技术代码，然后推荐出来一篇文章， 我看着怎么有点眼熟呢，这不是我之前写的么， 然后就原封不动出现在别人的自建博客上。一看就是通过网络爬虫抓取的，离了个大谱。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">我们做技术需要实事求是， 那怎么抓取原始数据呢。 这里我们采用技术的手段，还是借助Python的 akshare库来完成。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">以20241025智谱发布AutoGLM为例， 那我以智谱为关键字， 就搜索当天的公告，看一下哪家公司实锤了不就好了。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">下面给出简单的代码示例：</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><br>import&nbsp;pandas&nbsp;as&nbsp;pd<br><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#&nbsp;Setting&nbsp;up&nbsp;pandas&nbsp;display&nbsp;options</span><br>pd.set_option(<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'display.unicode.ambiguous_as_wide'</span>,&nbsp;True)<br>pd.set_option(<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'display.unicode.east_asian_width'</span>,&nbsp;True)<br>pd.set_option(<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'display.max_rows'</span>,&nbsp;None)<br>pd.set_option(<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'display.max_columns'</span>,&nbsp;None)<br>pd.set_option(<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'display.expand_frame_repr'</span>,&nbsp;False)<br>pd.set_option(<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'display.max_colwidth'</span>,&nbsp;100)<br><br><br>def&nbsp;search_keyword(df,&nbsp;keyword):<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#&nbsp;Search&nbsp;for&nbsp;the&nbsp;keyword&nbsp;in&nbsp;the&nbsp;'title'&nbsp;column</span><br>&nbsp;&nbsp;&nbsp;&nbsp;matched_rows&nbsp;=&nbsp;df[df[<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'公告标题'</span>].str.contains(keyword,&nbsp;<span class=\"hljs-keyword\" style=\"color: #c678dd; line-height: 26px;\">case</span>=False)]<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"hljs-built_in\" style=\"color: #e6c07b; line-height: 26px;\">return</span>&nbsp;matched_rows<br><br><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#&nbsp;Main&nbsp;execution</span><br>date&nbsp;=&nbsp;<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"20241025\"</span><br>try:<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#&nbsp;Try&nbsp;to&nbsp;import&nbsp;akshare,&nbsp;if&nbsp;available</span><br>&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;akshare&nbsp;as&nbsp;ak<br>&nbsp;&nbsp;&nbsp;&nbsp;df&nbsp;=&nbsp;ak.stock_notice_report(symbol=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"全部\"</span>,&nbsp;date=date)<br>except&nbsp;ImportError:<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"hljs-built_in\" style=\"color: #e6c07b; line-height: 26px;\">print</span>(<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"akshare&nbsp;not&nbsp;available\"</span>)<br><br><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#&nbsp;Save&nbsp;to&nbsp;Excel</span><br>spath&nbsp;=&nbsp;f<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"./{date}公告.xlsx\"</span><br>df.to_excel(spath,&nbsp;engine=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'xlsxwriter'</span>,&nbsp;index=False)<br><span class=\"hljs-built_in\" style=\"color: #e6c07b; line-height: 26px;\">print</span>(f<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"Data&nbsp;saved&nbsp;to&nbsp;{spath}\"</span>)<br><br><span class=\"hljs-comment\" style=\"color: #5c6370; font-style: italic; line-height: 26px;\">#&nbsp;Search&nbsp;for&nbsp;a&nbsp;keyword</span><br>keyword&nbsp;=&nbsp;<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"智谱\"</span><br>result&nbsp;=&nbsp;search_keyword(df,&nbsp;keyword)<br><br><span class=\"hljs-built_in\" style=\"color: #e6c07b; line-height: 26px;\">print</span>(f<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"\\nRows&nbsp;containing&nbsp;the&nbsp;keyword&nbsp;'{keyword}':\"</span>)<br><span class=\"hljs-built_in\" style=\"color: #e6c07b; line-height: 26px;\">print</span>(result[[<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'代码'</span>,<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'名称'</span>,<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'公告标题'</span>,<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">'网址'</span>]])<br><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">运行效果：</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/55218/6e84750e-0997-4ef1-949d-f7dd4828b899.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">图片有点模糊，这里简单列一下。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">Data saved to ./20241025公告.xlsx</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">Rows containing the keyword '智谱': 代码 名称 公告标题 网址</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">300010 豆神教育 豆神教育:关于与北京智谱华章科技有限公司、海南何尊网络科技有限公司签署战略合作框架协议并成立合资公司的公告 https://data.eastmoney.com/notices/detail/300010/AN202410241640468939.html</p> \n<figure data-tool=\"mdnice编辑器\" style=\"margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: flex; flex-direction: column; justify-content: center; align-items: center;\"> \n <img src=\"https://files.mdnice.com/user/55218/1682b86f-8ac8-4693-9eb5-0b9d240988cc.png\" alt style=\"display: block; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; max-width: 100%; border-top-style: none; border-bottom-style: none; border-left-style: none; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;\"> \n</figure> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">好吧，豆神教育 就是 智谱AI概念实锤龙头股。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">题外话：</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">最近重组题材比较火热，我们是不是可以利用重组去筛选实锤的公司，比如我们把这段时间的公告爬下来，通过技术手段匹配对应某些关键字。 不然你看到的都是别人科普的二手消息了。</p>",
                "title": "【Python技术】利用akshare获取A股公告，并通过关键字获取自己想要的内容",
                "categoryId": 1,
                "categoryName": "后端",
                "tagId": 103,
                "tagName": "Python",
                "userId": 55218,
                "userOutId": "179427763817",
                "username": "子晓聊技术",
                "avatar": "https://files.mdnice.com/user/55218/user-avatar/5fc0cb71-d7f6-40e1-aec2-23fee5805e47.jpg",
                "description": "昨天的文章介绍了通过AI大模型询问相关概念股，AI大模型基本是依赖网络被普及的内容，不一定靠谱。怎么理解这句话呢？经过网络的发酵，很多人发了XXX是某某概念股，AI大模型理解这只股就是了。备注：上次我",
                "level": 1,
                "publishTime": "2024/11/01",
                "readingNum": 3,
                "likeNum": 0,
                "introduction": "程序员，分享AI、JAVA、Python",
                "followWords": "扫码添加好友",
                "followPic": "https://files.mdnice.com/user/55218/follow/4a2b995c-733f-473b-8738-4b1a7c8432bf.jpg",
                "isFollowing": false,
                "isLike": false,
                "isSelf": false,
                "type": 1,
                "isVisible": true,
                "invisibleReason": null,
                "writingColumn": {
                    "columnOutId": "7617af3560d946f1b0782e88278ac9b6",
                    "name": "默认专栏",
                    "briefIntro": "这是一个默认专栏",
                    "cover": "https://files.mdnice.com/common/community/default-column-cover.jpg",
                    "writingNum": 5,
                    "createTime": "2024-08-06 19:03"
                }
            }
        },
        "__N_SSP": true
    },
    "page": "/writing/[id]",
    "query": {
        "id": "a0c72d808ce0483881f2a84d70434826"
    },
    "buildId": "ErZPkD4oq6iwH2nj6Dpcx",
    "isFallback": false,
    "gssp": true,
    "appGip": true
}