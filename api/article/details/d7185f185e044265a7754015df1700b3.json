{
    "props": {
        "pageProps": {
            "query": {
                "id": "d7185f185e044265a7754015df1700b3"
            },
            "ieBrowser": false,
            "needRefresh": false,
            "writingDetail": {
                "id": 82132,
                "outId": "d7185f185e044265a7754015df1700b3",
                "articleOutId": "d7185f185e044265a7754015df1700b3",
                "html": "<blockquote class=\"multiquote-1\" data-tool=\"mdnice编辑器\" style=\"margin-top: 20px; margin-bottom: 20px; margin-left: 0px; margin-right: 0px; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; border-top-style: none; border-bottom-style: none; border-left-style: solid; border-right-style: none; border-top-width: 3px; border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px; border-top-color: rgba(0, 0, 0, 0.4); border-bottom-color: rgba(0, 0, 0, 0.4); border-left-color: rgba(0, 0, 0, 0.4); border-right-color: rgba(0, 0, 0, 0.4); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; background-attachment: scroll; background-clip: border-box; background-color: rgba(0, 0, 0, 0.05); background-image: none; background-origin: padding-box; background-position-x: 0%; background-position-y: 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; display: block; overflow-x: auto; overflow-y: auto;\"> <span style=\"display: none; color: rgb(0, 0, 0); font-size: 16px; line-height: 1.5em; letter-spacing: 0em; text-align: left; font-weight: normal;\"></span> \n <p style=\"text-indent: 0em; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px; color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; font-weight: normal; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;\">在微信小程序开发中，自定义导航栏是一个常见的需求。为了提高复用性和维护性，我们可以将自定义导航栏封装成一个组件。本文将详细讲解从自定义导航栏到封装组件的整个过程。</p> \n</blockquote> \n<h3 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: block;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 20px; color: rgb(0, 0, 0); line-height: 1.5em; letter-spacing: 0em; text-align: left; font-weight: bold; display: block;\">1. 自定义导航栏</span><span class=\"suffix\" style=\"display: none;\"></span></h3> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">首先，我们需要在小程序的页面中实现一个自定义导航栏。这个导航栏需要与胶囊按钮的高度保持一致。</p> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">Page.js</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">Page({<br>&nbsp;&nbsp;data:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;navBarHeight:&nbsp;0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;导航栏高度<br>&nbsp;&nbsp;&nbsp;&nbsp;menuBottom:&nbsp;0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;胶囊距底部间距（保持底部间距一致）<br>&nbsp;&nbsp;&nbsp;&nbsp;menuRight:&nbsp;0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;胶囊距右方间距（方保持左、右间距一致）<br>&nbsp;&nbsp;&nbsp;&nbsp;menuHeight:&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;胶囊高度（自定义内容可与胶囊高度保证一致）<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;<span class=\"hljs-function\" style=\"line-height: 26px;\"><span class=\"hljs-title\" style=\"color: #61aeee; line-height: 26px;\">onLoad</span></span>()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;this.setNavBarInfo();<br>&nbsp;&nbsp;},<br><br>&nbsp;&nbsp;<span class=\"hljs-function\" style=\"line-height: 26px;\"><span class=\"hljs-title\" style=\"color: #61aeee; line-height: 26px;\">setNavBarInfo</span></span>()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取系统信息<br>&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;systemInfo&nbsp;=&nbsp;wx.getSystemInfoSync();<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取胶囊按钮位置信息<br>&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;menuButtonInfo&nbsp;=&nbsp;wx.getMenuButtonBoundingClientRect();<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;计算导航栏高度<br>&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;navBarHeight&nbsp;=&nbsp;(menuButtonInfo.top&nbsp;-&nbsp;systemInfo.statusBarHeight)&nbsp;*&nbsp;2&nbsp;+&nbsp;menuButtonInfo.height&nbsp;+&nbsp;systemInfo.statusBarHeight;<br>&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;menuBottom&nbsp;=&nbsp;menuButtonInfo.top&nbsp;-&nbsp;systemInfo.statusBarHeight;<br>&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;menuRight&nbsp;=&nbsp;systemInfo.screenWidth&nbsp;-&nbsp;menuButtonInfo.right;<br>&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;menuHeight&nbsp;=&nbsp;menuButtonInfo.height;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;this.setData({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;navBarHeight:&nbsp;navBarHeight,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menuBottom:&nbsp;menuBottom,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menuRight:&nbsp;menuRight,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menuHeight:&nbsp;menuHeight<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;}<br>});<br><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">Page.wxml</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">&lt;view&nbsp;class=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"nav\"</span>&nbsp;style=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"height:{{navBarHeight}}px;\"</span>&gt;<br>&nbsp;&nbsp;&lt;view&nbsp;class=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"nav-main\"</span>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;view&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"capsule-box\"</span>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"height:{{menuHeight&nbsp;+&nbsp;menuBottom&nbsp;*&nbsp;2}}px;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min-height:{{menuHeight}}px;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line-height:{{menuHeight}}px;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bottom:0px;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:0&nbsp;{{menuRight}}px;\"</span>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;view&gt;导航&lt;/view&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;slot&gt;&lt;/slot&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/view&gt;<br>&nbsp;&nbsp;&lt;/view&gt;<br>&lt;/view&gt;<br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">Page.wxss</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">.nav&nbsp;{<br>&nbsp;&nbsp;position:&nbsp;fixed;<br>&nbsp;&nbsp;top:&nbsp;0;<br>&nbsp;&nbsp;left:&nbsp;0;<br>&nbsp;&nbsp;box-sizing:&nbsp;border-box;<br>&nbsp;&nbsp;width:&nbsp;100vw;<br>&nbsp;&nbsp;z-index:&nbsp;1000;<br>}<br><br>.nav-main&nbsp;{<br>&nbsp;&nbsp;width:&nbsp;100%;<br>&nbsp;&nbsp;height:&nbsp;100%;<br>&nbsp;&nbsp;box-sizing:&nbsp;border-box;<br>&nbsp;&nbsp;position:&nbsp;relative;<br>}<br><br>.capsule-box&nbsp;{<br>&nbsp;&nbsp;position:&nbsp;absolute;<br>&nbsp;&nbsp;box-sizing:&nbsp;border-box;<br>&nbsp;&nbsp;width:&nbsp;100%;<br>&nbsp;&nbsp;display:&nbsp;flex;<br>&nbsp;&nbsp;align-items:&nbsp;center;<br>&nbsp;&nbsp;justify-content:&nbsp;center;<br>}<br><br></code></pre> \n<h3 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: block;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 20px; color: rgb(0, 0, 0); line-height: 1.5em; letter-spacing: 0em; text-align: left; font-weight: bold; display: block;\">2. 封装成组件</span><span class=\"suffix\" style=\"display: none;\"></span></h3> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">为了提高代码的复用性和可维护性，我们将上述自定义导航栏封装成一个组件。</p> \n<h4 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: block;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 18px; color: rgb(0, 0, 0); line-height: 1.5em; letter-spacing: 0em; text-align: left; font-weight: bold; display: block;\">组件文件结构</span><span class=\"suffix\" style=\"display: none;\"></span></h4> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">/components/custom-nav/<br>&nbsp;&nbsp;custom-nav.js<br>&nbsp;&nbsp;custom-nav.json<br>&nbsp;&nbsp;custom-nav.wxml<br>&nbsp;&nbsp;custom-nav.wxss<br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">custom-nav.json</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">{<br>&nbsp;&nbsp;<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"component\"</span>:&nbsp;<span class=\"hljs-literal\" style=\"color: #56b6c2; line-height: 26px;\">true</span><br>}<br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">custom-nav.js</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">Component({<br>&nbsp;&nbsp;data:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;navBarHeight:&nbsp;0,&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;导航栏高度<br>&nbsp;&nbsp;&nbsp;&nbsp;menuBottom:&nbsp;0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;胶囊距底部间距（保持底部间距一致）<br>&nbsp;&nbsp;&nbsp;&nbsp;menuRight:&nbsp;0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;胶囊距右方间距（保持左、右间距一致）<br>&nbsp;&nbsp;&nbsp;&nbsp;menuHeight:&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;胶囊高度（自定义内容可与胶囊高度保证一致）<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;lifetimes:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"hljs-function\" style=\"line-height: 26px;\"><span class=\"hljs-title\" style=\"color: #61aeee; line-height: 26px;\">attached</span></span>()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.setNavBarInfo();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;methods:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"hljs-function\" style=\"line-height: 26px;\"><span class=\"hljs-title\" style=\"color: #61aeee; line-height: 26px;\">setNavBarInfo</span></span>()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取系统信息<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;systemInfo&nbsp;=&nbsp;wx.getSystemInfoSync();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取胶囊按钮位置信息<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;menuButtonInfo&nbsp;=&nbsp;wx.getMenuButtonBoundingClientRect();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;计算导航栏高度<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;navBarHeight&nbsp;=&nbsp;(menuButtonInfo.top&nbsp;-&nbsp;systemInfo.statusBarHeight)&nbsp;*&nbsp;2&nbsp;+&nbsp;menuButtonInfo.height&nbsp;+&nbsp;systemInfo.statusBarHeight;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;menuBottom&nbsp;=&nbsp;menuButtonInfo.top&nbsp;-&nbsp;systemInfo.statusBarHeight;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;menuRight&nbsp;=&nbsp;systemInfo.screenWidth&nbsp;-&nbsp;menuButtonInfo.right;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;menuHeight&nbsp;=&nbsp;menuButtonInfo.height;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;更新数据<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.setData({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;navBarHeight:&nbsp;navBarHeight,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menuBottom:&nbsp;menuBottom,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menuRight:&nbsp;menuRight,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menuHeight:&nbsp;menuHeight<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>});<br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">custom-nav.wxml</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">&lt;view&nbsp;class=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"nav\"</span>&nbsp;style=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"height:{{navBarHeight}}px;\"</span>&gt;<br>&nbsp;&lt;view&nbsp;class=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"nav-main\"</span>&gt;<br>&nbsp;&lt;!--&nbsp;胶囊区域&nbsp;--&gt;<br>&nbsp;&lt;view&nbsp;<br>&nbsp;&nbsp;class=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"capsule-box\"</span>&nbsp;&nbsp;style=<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"height:{{menuHeight+menuBottom*2}}px;&nbsp;min-height:{{menuHeight}}px;&nbsp;line-height:{{menuHeight}}px;&nbsp;bottom:0px;padding:0&nbsp;{{menuRight}}px;\"</span>&gt;<br>&nbsp;&lt;!--&nbsp;导航内容区域&nbsp;--&gt;<br>&nbsp;&lt;view&gt;&lt;/view&gt;<br>&nbsp;&nbsp;&lt;slot&gt;&lt;/slot&gt;<br>&nbsp;&lt;/view&gt;<br>&nbsp;&lt;/view&gt;<br>&lt;/view&gt;<br><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">custom-nav.wxss</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\"><br>.nav&nbsp;{<br>&nbsp;&nbsp;position:&nbsp;fixed;<br>&nbsp;&nbsp;top:&nbsp;0;<br>&nbsp;&nbsp;left:&nbsp;0;<br>&nbsp;&nbsp;box-sizing:&nbsp;border-box;<br>&nbsp;&nbsp;width:&nbsp;100vw;<br>&nbsp;&nbsp;z-index:&nbsp;1000;<br>}<br><br>.nav-main&nbsp;{<br>&nbsp;&nbsp;width:&nbsp;100%;<br>&nbsp;&nbsp;height:&nbsp;100%;<br>&nbsp;&nbsp;box-sizing:&nbsp;border-box;<br>&nbsp;&nbsp;position:&nbsp;relative;<br>}<br><br>.capsule-box&nbsp;{<br>&nbsp;&nbsp;position:&nbsp;absolute;<br>&nbsp;&nbsp;box-sizing:&nbsp;border-box;<br>&nbsp;&nbsp;width:&nbsp;100%;<br>&nbsp;&nbsp;display:&nbsp;flex;<br>&nbsp;&nbsp;align-items:&nbsp;center;<br>&nbsp;&nbsp;justify-content:&nbsp;center;<br>}<br></code></pre> \n<h3 data-tool=\"mdnice编辑器\" style=\"margin-top: 30px; margin-bottom: 15px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; display: block;\"><span class=\"prefix\" style=\"display: none;\"></span><span class=\"content\" style=\"font-size: 20px; color: rgb(0, 0, 0); line-height: 1.5em; letter-spacing: 0em; text-align: left; font-weight: bold; display: block;\">3. 在页面中使用组件</span><span class=\"suffix\" style=\"display: none;\"></span></h3> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">Page wxml</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">&lt;view&gt;<br>&nbsp;&nbsp;&lt;custom-nav&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;自定义导航栏内容&nbsp;--&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;view&gt;系统一&lt;/view&gt;<br>&nbsp;&nbsp;&lt;/custom-nav&gt;<br>&nbsp;&nbsp;&lt;!--&nbsp;其他页面内容&nbsp;--&gt;<br>&lt;/view&gt;<br><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">Page json</p> \n<pre class=\"custom\" data-tool=\"mdnice编辑器\" style=\"border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; text-align: left; margin-top: 10px; margin-bottom: 10px; margin-left: 0px; margin-right: 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;\"><span style=\"display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;\"></span><code class=\"hljs\" style=\"overflow-x: auto; padding: 16px; color: #abb2bf; padding-top: 15px; background: #282c34; border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;\">{<br>&nbsp;&nbsp;<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"usingComponents\"</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"custom-nav\"</span>:&nbsp;<span class=\"hljs-string\" style=\"color: #98c379; line-height: 26px;\">\"/components/custom-nav/custom-nav\"</span><br>&nbsp;&nbsp;}<br>}<br><br><br></code></pre> \n<p data-tool=\"mdnice编辑器\" style=\"color: rgb(0, 0, 0); font-size: 16px; line-height: 1.8em; letter-spacing: 0em; text-align: left; text-indent: 0em; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; padding-top: 8px; padding-bottom: 8px; padding-left: 0px; padding-right: 0px;\">通过以上步骤，我们成功地将自定义导航栏封装成了一个组件。这样不仅提高了代码的复用性和可维护性，也使得整个项目更加结构化和模块化。</p>",
                "title": "微信小程序自定义导航栏并封装组件全过程",
                "categoryId": 2,
                "categoryName": "前端",
                "tagId": 125,
                "tagName": "小程序",
                "userId": 49613,
                "userOutId": "785291818982",
                "username": "shaltone",
                "avatar": "",
                "description": "在微信小程序开发中，自定义导航栏是一个常见的需求。为了提高复用性和维护性，我们可以将自定义导航栏封装成一个组件。本文将详细讲解从自定义导航栏到封装组件的整个过程。1.自定义导航栏首先，我们需要在小程序",
                "level": 1,
                "publishTime": "2024/08/18",
                "readingNum": 2,
                "likeNum": 0,
                "introduction": null,
                "followWords": null,
                "followPic": null,
                "isFollowing": false,
                "isLike": false,
                "isSelf": false,
                "type": 1,
                "isVisible": true,
                "invisibleReason": null,
                "writingColumn": {
                    "columnOutId": "a823ae22006a4ab78c9b026099383924",
                    "name": "微信小程序开发教程",
                    "briefIntro": "致力于打造零基础的小程序开发教程，让读者能快速上手开发自己的小程序。交流：hackwit1024",
                    "cover": "https://files.mdnice.com/user/49613/column-cover/bf8b36c2-262d-479f-b479-8a0278ad6700.png",
                    "writingNum": 6,
                    "createTime": "2024-08-06 19:03"
                }
            }
        },
        "__N_SSP": true
    },
    "page": "/writing/[id]",
    "query": {
        "id": "d7185f185e044265a7754015df1700b3"
    },
    "buildId": "ErZPkD4oq6iwH2nj6Dpcx",
    "isFallback": false,
    "gssp": true,
    "appGip": true
}